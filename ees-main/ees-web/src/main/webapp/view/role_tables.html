<!DOCTYPE html>
<html lang="en">
<head>
<title>角色管理</title>
 <link href="./css/bootstrap-treeview.css" rel="stylesheet"> 
 <script src="./js/bootstrap-treeview.js"></script>
<script src="./js/ees-role.js"></script>
</head>
<body>
    <div class="">
      <div class="clearfix"></div>	
      <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
          <div class="x_panel">
            <div class="x_title">
              <h2>角色管理</h2>
              <div class="clearfix"></div>
            </div>
            <div class="x_content" style="min-height: 470px">
            	
            	<div class="row">
            		<form id="queryForm" class="form-horizontal form-label-left" novalidate>
                  <div class="item form-group" >
                    <label class="control-label col-md-1 col-sm-1 col-xs-1">角色名称</label>
                    <div class="col-md-3 col-sm-3 col-xs-6" >
                      <input id="query_role_name" class="form-control col-md-7 col-xs-12" type="text">
                    </div>
                    
                    <label class="control-label col-md-3 col-sm-3 col-xs-3"></label>
                    
                    <label class="control-label col-md-1 col-sm-1 col-xs-1">所属机构 </label>
                    <div class="col-md-3 col-sm-3 col-xs-6">
                      	<input id="query_org_name"  class="form-control col-md-7 col-xs-12" type="text">
                    </div>
                  </div>
                  <div class="form-group" align="center">
                     <div class="col-md-6 col-md-offset-3" >
                     	 <button type="reset"  class="btn btn-primary">重置</button> 
                      	 <button type="button" onclick="query()" class="btn btn-success">提交</button>
                     </div>
                  </div>
                </form>
                <div class="ln_solid"></div>
            	</div>
            
            	<div class="row">
            		<div class="col-sm-6">
            			 <button type="button" onclick="addModel()" class="btn btn-primary" style="margin: 1px;">添加</button> 
            			 <button type="button" onclick="empower()" class="btn btn-primary"  style="margin: 1px;">授权</button> 
            			 <button type="button" onclick="action('/sys/role/deleteByIds','批量删除')"
            			 	class="btn btn-primary"  style="margin: 1px;">批量删除</button> 
            		</div>
            	</div>
            	
              <table id="datatable-buttons" style="width: 100%" class="table table-striped table-bordered bulk_action">
                <thead>
                  <tr>
                    <th width="5%">序号</th>
                    <th width="15%">角色名称</th>
                    <th width="20%">登录后首页</th>
                    <th width="15%">所属机构</th> 
                    <th width="20%">备注</th> 
                    <th width="35%">操作</th> 
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
        
       <!-- 添加模态框（Modal） -->
	<div style="top: 5%;left: 7%" class="modal fade bs-example-modal-lg" id="addModal" 
		tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×</button>
					<h4 class="modal-title" id="myModalLabel">
						添加操作
					</h4>
				</div>
				<div class="modal-body">
					<form id="addForm" class="form-horizontal form-label-left" novalidate>
					  <div class="item form-group" style="display: none;">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="addRoleId">角色ID 
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="addRoleId" class="form-control col-md-7 col-xs-12" name="roleId" type="text">
                        </div>
                      </div>
                      <div class="item form-group" >
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" >角色名称
                        	 <span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="addRoleName" onblur="isExist('addRoleNameError',this.value)" 
                          	class="form-control col-md-7 col-xs-12" name="roleName">
                        </div>
                        <label class="control-label error" for="addRoleName" id="addRoleNameError"></label>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" >登录后首页 
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <input id="addHomeUrl" name="homeUrl" type="text" class="form-control col-md-7 col-xs-12">
                        </div>
                        <label class="control-label" for="addHomeUrl"></label>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">所属机构 
                        	<span class="required" style="color: red;">*</span></label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <select class="form-control" id="addOrgSelect" name="belongOrg"></select>
                        </div>
                        <label class="control-label" for="addSex"></label>
                      </div>
                      
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="addRemark">备注
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <textarea id="addRemark" name="remark" rows="5"
                          	class="form-control col-md-7 col-xs-12"
                         	 onkeyup="limitMaxLength('addRemark','add_num_text',500)"></textarea>
                        </div>
                         <label class="control-label errorRemark" style="color: red;" id ="add_num_text" for="addRemark"></label>
                      </div>
                      
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-6 col-md-offset-3">
                          <button type="reset"  class="btn btn-primary">重置</button> 
                          <button  type="submit" onclick="dosubmitAdd()"
                          	class="btn btn-success">提交</button>
                        </div>
                      </div>
                    </form>
				</div>
			</div>
		</div>
	</div>
		
		
	<!-- 修改模态框（Modal） -->
	<div style="top: 5%;left: 7%" class="modal fade bs-example-modal-lg" id="updateModal" 
		tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×</button>
					<h4 class="modal-title" id="myModalLabel">
						修改操作
					</h4>
				</div>
				<div class="modal-body">
					<form id="updateForm" class="form-horizontal form-label-left" novalidate>
					  <div class="item form-group" style="display: none;">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">角色ID 
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="updateRoleId" class="form-control col-md-7 col-xs-12" name="roleId" type="text">
                        </div>
                      </div>
                      <div class="item form-group" >
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" >角色名称 
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="updateRoleName" onblur="isExist('updateRoleNameError',this.value)" 
                          	class="form-control col-md-7 col-xs-12" name="roleName" type="text">
                        </div>
                        <label class="control-label error" for="updateRoleName" id="updateRoleNameError"></label>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">登录后首页 
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <input id="updateHomeUrl" name="homeUrl" class="form-control col-md-7 col-xs-12">
                        </div>
                        <label class="control-label" for="updateHomeUrl" id="updateHomeUrlError"></label>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">所属机构
                        	 <span class="required" style="color: red;">*</span></label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <select class="form-control" id="updateOrgSelect" name="belongOrg" 
                          	onchange="checkIsNotNull('updateOrgSelect','orgSelectError')"></select>
                        </div>
                        <label class="control-label" for="updateOrgSelect"></label>
                      </div>
                      
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">备注</label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <textarea id="updateRemark" name="remark" rows="5" 
                          	 class="form-control col-md-7 col-xs-12"
                         	 onkeyup="limitMaxLength('updateRemark','update_num_text',500)"></textarea>
                        </div>
                         <label class="control-label errorRemark" style="color: red;"  for="updateRemark" id ="update_num_text"></label>
                      </div>
                      
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-6 col-md-offset-3">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" 
							aria-hidden="true">取消</button> 
                          <button  type="submit" onclick="dosubmitUpdate()" class="btn btn-success">修改</button>
                        </div>
                      </div>
                    </form>
				</div>
			</div>
		</div>
	</div>
		
	<!-- 模态框（Modal） -->
	<div style="top: 20%;" class="modal fade" id="DeleteModal" tabindex="-1" 
			role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×
					</button>
					<h4 class="modal-title" id="myModalLabel">
						删除操作
					</h4>
				</div>
				<div class="modal-body">			
					<form  name="deleteForm" novalidate >
						<!-- 更新时的id值 -->
						<div class="item form-group" style="display: none;">
	                        <div class="col-md-6 col-sm-6 col-xs-12" >
	                          <input id="delete_id" required="required" class="form-control col-md-7 col-xs-12" 
	                          	 name="roleIds" type="hidden">
	                        </div>
                     	 </div>
						<span>此操作不可逆，确定删除吗?</span>
						
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
							<button type="button" onclick="delOne()" class="btn btn-danger">确定</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
			
	<!-- 模态框（Modal） -->
	<div style="top: 2%;" class="modal fade" id="empowerment" tabindex="-1" 
			role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×
					</button>
					<h4 class="modal-title" id="myModalLabel">
						赋权操作
					</h4>
				</div>
				<div class="modal-body" style="overflow: scroll;height:400px;">	
					<!-- 单个还是多个赋权标识 -->
					<div class="item form-group" style="display: none;">
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="empowerOne" class="form-control col-md-7 col-xs-12" type="text">
                        </div>
                    	 </div>		
					<div class="container">
				        <div class="col-sm-12">
				          <div id="treeview-checkable" class=""></div>
				        </div>
					</div>
					<div class="modal-footer" align="center">
                        <div align="center">
                          <button type="button"  class="btn btn-primary">全选</button> 
                          <button type="button" onclick="getNodes()" class="btn btn-success">确定</button>
                        </div>
                  		 </div>
				</div>
			</div>
		</div>
	</div>
		
	<!-- 模态框（Modal） -->
	<div style="top: 20%;" class="modal fade" id="infoModel" tabindex="-1" role="dialog"
		 aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×
					</button>
					<h4 class="modal-title" id="myModalLabel">
						友情提示
					</h4>
				</div>
				<div class="modal-body">			
					<label id="infoAction" style="color: red;font-size: large;"></label>
				</div>
			</div>
		</div>
	</div>
  </body>
</html>