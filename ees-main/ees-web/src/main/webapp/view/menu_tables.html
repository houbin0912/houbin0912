<!DOCTYPE html>
<html lang="en">
<head>
<script src="./js/ees-menu.js"></script>
</head>
  <body>
   <div class="">
      <div class="clearfix"></div>
      <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
          <div class="x_panel">
            <div class="x_title">
              <h2>菜单管理</h2>
              <div class="clearfix"></div>
            </div>
            <div class="x_content" style="min-height: 470px">
            	
            	<div class="row">
            		<form id="queryForm" class="form-horizontal form-label-left" novalidate>
                  <div class="item form-group" >
                    <label class="control-label col-md-1 col-sm-1 col-xs-1" for="query_menu_name">菜单名称</label>
                    <div class="col-md-3 col-sm-3 col-xs-6" >
                      <input id="query_menu_name" class="form-control col-md-7 col-xs-12" type="text">
                    </div>
                    
                    <label class="control-label col-md-3 col-sm-3 col-xs-3"></label>
                    
                    <label class="control-label col-md-1 col-sm-1 col-xs-1">父类菜单 </label>
                    <div class="col-md-3 col-sm-3 col-xs-6">
                      <input id="query_menu_parent"  class="form-control col-md-7 col-xs-12">
                    </div>
                  </div>
                  <div class="form-group" align="center">
                    <div class="col-md-6 col-md-offset-3" >
                      <button type="reset"  class="btn btn-primary">重置</button> 
                      <button type="button" onclick="query()" class="btn btn-success">提交</button>
                    </div>
                  </div>
                </form>
                <div class="ln_solid"></div>
            	</div>
            
            	<div class="row">
            		<div class="col-sm-6">
            			 <button type="button" onclick="addModel()" class="btn btn-primary" style="margin: 1px;">添加</button> 
            			 <button type="button" onclick="action('/sys/menu/deleteByIds','批量删除')" class="btn btn-primary" style="margin: 1px;">批量删除</button> 
            		</div>
            	</div>
            	
              <table id="datatable-buttons"  style="width: 100%" class="table table-striped table-bordered bulk_action">
                <thead>
                  <tr>
                    <th width="5%">序号</th>
                    <th width="15%">菜单名称</th>
                    <th width="15%">上级菜单</th>
                    <th width="20%">菜单URL</th>
                    <th width="10%">URL类型</th> 
                    <th width="20%">备注</th> 
                    <th width="15%">操作</th> 
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 新增模态框（addModal） -->
	<div style="top: 1%;left: 7%" class="modal fade bs-example-modal-lg" id="addModal" 
		tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×</button>
					<h4 class="modal-title" id="edit-modal-label">
						添加操作
					</h4>
				</div>
				<div class="modal-body">
					<form id="addForm" name ="menu-add-form" class="form-horizontal form-label-left" novalidate>
                      <div class="item form-group" >
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">菜单名称 
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="addMenuName" name="menuName" class="form-control col-md-7 col-xs-12" type="text">
                        </div>
                        <label class="control-label" for="addMenuName" id="addMenuNameError"></label>
                      </div>
                     
                       <div class="item form-group">
                     	<label class="control-label col-md-3 col-sm-3 col-xs-12" >上级菜单 
                        	<span class="required" style="color: red;">*</span></label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input id="addParentMenuName"  readonly="readonly" onclick="getPmm('addParentMenuName','addParentMenuId')"
                            	placeholder="点击选择父菜单 默认一级菜单" class="form-control col-md-7 col-xs-12">
                          	<input id="addParentMenuId" name="parentMenuId" value="0"
                          		 class="form-control col-md-7 col-xs-12" type="hidden">
                        </div>
                        <label class="control-label" for="addParentMenuName"></label>
                      </div> 
                      
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" >菜单URL
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <input  id="addMenuUrl" name="menuUrl"  class="form-control col-md-7 col-xs-12">
                        </div>
                        <label class="control-label" for="addMenuUrl"></label>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-3">URL类型
                       	 <span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <select class="form-control" id="addUrlType" name="urlType" >
                          </select>
                        </div>
                        <label class="control-label" for="addUrlType"></label>
                      </div>
                       
                     <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="addRemark">备注</label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                        <textarea id="addRemark" name="remark"
								onkeyup="limitMaxLength('addRemark','add_num_text',500)"
								rows="5" class="form-control col-md-7 col-xs-12"></textarea>
                        </div>
                         <label class="control-label errorRemark" style="color: red;" id ="add_num_text"></label>
                      </div>
                      
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-6 col-md-offset-3">
                          <button type="reset"  class="btn btn-primary">重置</button> 
                          <button type="submit" onclick="dosubmitAdd()"  class="btn btn-success">提交</button>
                        </div>
                      </div>
                    </form>
				</div>
			</div>
		</div>
	</div>
	<!-- 修改模态框（updateModal） -->
	<div style="top: 1%;left: 7%" class="modal fade bs-example-modal-lg" id="updateModal" 
		tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×
					</button>
					<h4 class="modal-title" id="edit-modal-label">
						修改操作
					</h4>
				</div>
				<div class="modal-body">
					<form id="updateForm" name ="menu-add-form" class="form-horizontal form-label-left" novalidate>
                      <div class="item form-group" style="display: none;">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">菜单ID
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="updateMenuId"  class="form-control col-md-7 col-xs-12" name="menuId" type="hidden">
                        </div>
                      </div>
                      <div class="item form-group" >
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" >菜单名称
                        	 <span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12" >
                          <input id="updateMenuName" name="menuName" class="form-control col-md-7 col-xs-12" type="text">
                        </div>
                        <label class="control-label" for="updateMenuName"></label>
                      </div>
                     
                     <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">上级菜单
                        	 <span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          	<input  id="updateParentMenuName" readonly="readonly" onclick="getPmm('updateParentMenuName','updateParentMenuId')" 
                          		 placeholder="点击选择父菜单 默认一级菜单" class="form-control col-md-7 col-xs-12">
                          		<input  id="updateParentMenuId" value="0" name="parentMenuId" class="form-control col-md-7 col-xs-12" type="hidden">
                        </div>
                        <label class="control-label" for="updateParentMenuId"></label>
                      </div> 
                      
                      <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" >菜单URL
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <input  id="updateMenuUrl" name="menuUrl" class="form-control col-md-7 col-xs-12">
                        </div>
                        <label class="control-label" for="updateMenuUrl" id="updateMenuUrlError"></label>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-3">URL类型
                        	<span class="required" style="color: red;">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                          <select class="form-control" id="updateUrlType" name="urlType" >
                          </select>
                        </div>
                        <label class="control-label" for="updateUrlType"></label>
                      </div>
                       
                     <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">备注</label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                        <textarea id="updateRemark" name="remark"
								onkeyup="limitMaxLength('updateRemark','update_num_text',500)"
								rows="5" class="form-control col-md-7 col-xs-12"></textarea>
                        </div>
                         <label class="control-label errorRemark" style="color: red;" id ="update_num_text">
                        </label>
                      </div>
                      
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-6 col-md-offset-3">
                          <button type="button" class="btn btn-primary" data-dismiss="modal" 
								aria-hidden="true">取消</button> 
                          <button type="submit" onclick="dosubmitUpdate()"  class="btn btn-success">提交</button>
                        </div>
                      </div>
                    </form>
				</div>
			</div>
		</div>
	</div>
	
	
	<!-- 模态框（Modal） -->
	<div style="top: 1%;" class="modal fade" id="pmm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" onclick="back()" class="close">×</button>
					<h4 class="modal-title" id="myModalLabel">
						请选择父菜单
					</h4>
				</div>
				<div class="modal-body" style="overflow: scroll;height:400px;">	
					<div class="container">
				        <div class="col-sm-12">
				          <div id="pmm-tree" class=""></div>
				        </div>
					</div>
					<div class="modal-footer" align="center">
                       <!--  <div align="center">
                          <button type="button" onclick="back()" style="width: 70px" class="btn btn-success">取消</button>
                        </div> -->
                  		 </div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- 模态框（Modal） -->
	<div style="top: 20%;" class="modal fade" id="DeleteModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×
					</button>
					<h4 class="modal-title" id="myModalLabel">
						删除操作
					</h4>
				</div>
				<div class="modal-body">			
					<form  name="deleteForm" novalidate >
						<!-- 更新时的id值 -->
						<div class="item form-group" style="display: none;">
	                        <div class="col-md-6 col-sm-6 col-xs-12" >
	                          <input id="delete_id" class="form-control col-md-7 col-xs-12" name="menuIds" type="text">
	                        </div>
                     	 </div>
						<span>此操作不可逆，确定删除吗?</span>
						
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">
								关闭
							</button>
							<button type="button" onclick="delOne()" class="btn btn-danger">
								确定
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	
	<!-- 模态框（Modal） -->
	<div style="top: 20%;" class="modal fade" id="infoModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×
					</button>
					<h4 class="modal-title" id="myModalLabel">
						友情提示
					</h4>
				</div>
				<div class="modal-body">			
					<label id="infoAction" style="color: red;font-size: large;"></label>
				</div>
			</div>
		</div>
	</div>    
  </body>
</html>